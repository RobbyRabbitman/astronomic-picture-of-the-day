(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jTNt:function(t,e,a){"use strict";a.r(e),a.d(e,"ApodModule",function(){return rt});var r=a("PCNd"),o=a("tyNb"),n=a("fXoL"),c=a("8LU1"),i=a("XNiG"),s=a("itXk"),p=a("GyhO"),u=a("HDdC"),d=a("IzEk"),l=a("7o/Q");class b{constructor(t){this.total=t}call(t,e){return e.subscribe(new h(t,this.total))}}class h extends l.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var m=a("Kj3r"),f=a("lJxs"),y=a("JX91"),v=a("1G5W"),O=a("nLfN");const g=new Set;let j,w=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!g.has(t))try{j||(j=document.createElement("style"),j.setAttribute("type","text/css"),document.head.appendChild(j)),j.sheet&&(j.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),g.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Tb(O.a))},t.\u0275prov=Object(n.Gb)({factory:function(){return new t(Object(n.Tb)(O.a))},token:t,providedIn:"root"}),t})();function _(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let x=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new i.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return I(Object(c.a)(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=I(Object(c.a)(t)).map(t=>this._registerQuery(t).observable);let a=Object(s.b)(e);return a=Object(p.a)(a.pipe(Object(d.a)(1)),a.pipe(t=>t.lift(new b(1)),Object(m.a)(0))),a.pipe(Object(f.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:a})=>{e.matches=e.matches||t,e.breakpoints[a]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),a={observable:new u.a(t=>{const a=e=>this._zone.run(()=>t.next(e));return e.addListener(a),()=>{e.removeListener(a)}}).pipe(Object(y.a)(e),Object(f.a)(({matches:e})=>({query:t,matches:e})),Object(v.a)(this._destroySubject)),mql:e};return this._queries.set(t,a),a}}return t.\u0275fac=function(e){return new(e||t)(n.Tb(w),n.Tb(n.A))},t.\u0275prov=Object(n.Gb)({factory:function(){return new t(Object(n.Tb)(w),Object(n.Tb)(n.A))},token:t,providedIn:"root"}),t})();function I(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const L="(max-width: 599.98px)";var k=a("3Pt+"),q=a("FKr1"),P=a("rW8v"),C=a("pM24");const A="date";var D=a("Cfvw"),Y=a("EY2u"),M=a("LRne"),T=a("w1tV"),E=a("pLZG"),G=a("vkgz"),K=a("eIep"),$=a("JIr8"),N=a("CqXF"),S=a("dJ3e"),Q=a("UyyX"),X=a("0IaG");let z=(()=>{class t{constructor(t){this.dialog=t}showErrorInDialog(t){return this.dialog.open(Q.a,{data:t}).afterClosed().pipe(Object(N.a)(null))}}return t.\u0275fac=function(e){return new(e||t)(n.Tb(X.b))},t.\u0275prov=n.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=a("GYBK"),W=a("/t3+"),B=a("kmnG"),F=a("qFsG"),H=a("iadO"),V=a("ofXK"),R=a("Wp6s");function U(t,e){if(1&t&&(n.Pb(0,"mat-card"),n.Pb(1,"mat-card-header"),n.Pb(2,"mat-card-title"),n.qc(3),n.Ob(),n.Pb(4,"mat-card-subtitle"),n.qc(5),n.ac(6,"date"),n.Ob(),n.Ob(),n.Pb(7,"mat-card-content",1),n.Lb(8,"app-image",2),n.Pb(9,"p"),n.qc(10),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Zb();n.Ab(3),n.sc(" ",t.apod.title," "),n.Ab(2),n.sc(" ",n.bc(6,5,t.apod.date)," "),n.Ab(3),n.ec("src",t.apod.url)("title",t._buildImageTitle(t.apod)),n.Ab(2),n.rc(t.apod.explanation)}}let Z=(()=>{class t{_buildImageTitle(t){return t.title&&t.copyright?`${t.title}, copyright by ${t.copyright}`:t.title?t.title:t.copyright?t.copyright:"Astronomic Picture of "+t.date}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Eb({type:t,selectors:[["app-apod-card"]],inputs:{apod:"apod"},decls:1,vars:1,consts:[[4,"ngIf"],["id","content"],["id","picture",3,"src","title"]],template:function(t,e){1&t&&n.pc(0,U,11,7,"mat-card",0),2&t&&n.ec("ngIf",e.apod)},directives:[V.l,R.a,R.c,R.f,R.e,R.b,J.a],pipes:[V.e],styles:["app-apod-card #content{display:flex;flex-direction:column;gap:1rem}app-apod-card #content #picture img{max-height:75vh;object-fit:contain}"],encapsulation:2,changeDetection:0}),t})();const tt={parse:{dateInput:"LL"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},et=[{path:"",component:(()=>{class t{constructor(t,e,a,r,o,n){this.route=t,this.router=e,this.store=a,this.errorService=r,this.layout=o,this.logger=n,this.readonlyTextInput=!0}get apod$(){return this._apod$}get dateControl(){return this._dateControl}get small$(){return this._small$}ngOnInit(){this._small$=this.layout.observe([L,L]).pipe(Object(f.a)(t=>t.matches),Object(T.a)()),this._dateControl=new k.c(null,[k.l.required]),this._dateControl.valueChanges.pipe(Object(E.a)(t=>this._dateControl.valid),Object(f.a)(t=>new Date(t)),Object(G.a)(t=>{var e;return null===(e=this.logger)||void 0===e?void 0:e.trace("Date formcontrol value: "+Object(C.a)(t))})).subscribe({next:t=>this._updateDateQueryParam(t)}),this._apod$=this.route.queryParams.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return a=>Object(f.a)(function(t,e){return a=>{let r=a;for(let o=0;o<e;o++){const e=null!=r?r[t[o]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(a)}(A),Object(G.a)(t=>{var e;return null===(e=this.logger)||void 0===e?void 0:e.trace("date route param: "+t)}),Object(f.a)(t=>new Date(t)),Object(K.a)(t=>{return isNaN(t.getTime())?Object(D.a)(this._updateDateQueryParam(new Date)).pipe((e=Y.a,Object(K.a)(()=>e))):Object(M.a)(t);var e}),Object(G.a)(t=>this._dateControl.setValue(t,{emitEvent:!1})),Object(K.a)(t=>this.store.dispatchApod(t).pipe(Object($.a)(t=>this.errorService.showErrorInDialog(t).pipe(Object(N.a)(null))))))}_updateDateQueryParam(t){return e=this,void 0,r=function*(){return this.router.navigate([],{queryParams:{[A]:Object(C.a)(t)}})},new((a=void 0)||(a=Promise))(function(t,o){function n(t){try{i(r.next(t))}catch(e){o(e)}}function c(t){try{i(r.throw(t))}catch(e){o(e)}}function i(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a(function(t){t(r)})).then(n,c)}i((r=r.apply(e,[])).next())});var e,a,r}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(o.a),n.Kb(o.b),n.Kb(S.c),n.Kb(z),n.Kb(x),n.Kb(P.b,8))},t.\u0275cmp=n.Eb({type:t,selectors:[["app-apod"]],features:[n.zb([{provide:q.c,useValue:tt}])],decls:12,vars:10,consts:[["color","primary"],[1,"flex-spacer"],["id","dateInput","color","primary"],["autocomplete","off","matInput","",3,"readonly","matDatepicker","formControl"],["matSuffix","",3,"for"],["picker",""],[3,"apod"]],template:function(t,e){if(1&t&&(n.Pb(0,"header"),n.Pb(1,"mat-toolbar",0),n.qc(2),n.ac(3,"async"),n.Lb(4,"span",1),n.Pb(5,"mat-form-field",2),n.Lb(6,"input",3),n.Lb(7,"mat-datepicker-toggle",4),n.Lb(8,"mat-datepicker",null,5),n.Ob(),n.Ob(),n.Ob(),n.Lb(10,"app-apod-card",6),n.ac(11,"async")),2&t){const t=n.gc(9);n.Ab(2),n.sc(" ",n.bc(3,6,e.small$)?e.store.appNameShort:e.store.appName," "),n.Ab(4),n.ec("readonly",e.readonlyTextInput)("matDatepicker",t)("formControl",e.dateControl),n.Ab(1),n.ec("for",t),n.Ab(3),n.ec("apod",n.bc(11,8,e.apod$))}},directives:[W.a,B.b,F.b,H.b,k.b,k.i,k.d,H.d,B.e,H.a,Z],pipes:[V.b],styles:["header{position:sticky;z-index:1;top:0}header mat-toolbar>#dateInput{width:140px}header mat-toolbar>.flex-spacer{flex:1 1 auto}header .mat-datepicker-toggle,header .mat-datepicker-toggle-active{color:unset}"],encapsulation:2}),t})()}];let at=(()=>{class t{}return t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({factory:function(e){return new(e||t)},imports:[[o.c.forChild(et)],o.c]}),t})(),rt=(()=>{class t{}return t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({factory:function(e){return new(e||t)},imports:[[r.a,at]]}),t})()}}]);