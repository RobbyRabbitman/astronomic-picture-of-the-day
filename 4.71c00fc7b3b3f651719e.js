(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jTNt:function(t,e,a){"use strict";a.r(e),a.d(e,"ApodModule",function(){return G});var n=a("PCNd"),o=a("tyNb"),c=a("0MNC"),r=a("3Pt+"),i=a("FKr1"),s=a("rW8v"),b=a("pM24");const p="date";var l=a("2Vo4"),d=a("Cfvw"),u=a("EY2u"),f=a("LRne"),h=a("pLZG"),m=a("lJxs"),g=a("vkgz"),w=a("eIep"),O=a("JIr8"),v=a("CqXF"),y=a("fXoL"),x=a("dJ3e"),j=a("1ua0"),$=a("XiUz"),_=a("ofXK"),L=a("/t3+"),P=a("kmnG"),A=a("qFsG"),I=a("iadO"),k=a("Xa2L"),C=a("Wp6s"),Y=a("GYBK");function D(t,e){if(1&t&&(y.Pb(0,"mat-card"),y.Pb(1,"mat-card-header"),y.Pb(2,"mat-card-title"),y.sc(3),y.Ob(),y.Pb(4,"mat-card-subtitle"),y.sc(5),y.bc(6,"date"),y.Ob(),y.Ob(),y.Pb(7,"mat-card-content",1),y.Lb(8,"app-image",2),y.Pb(9,"p"),y.sc(10),y.Ob(),y.Ob(),y.Ob()),2&t){const t=y.ac();y.Ab(3),y.uc(" ",t.apod.title," "),y.Ab(2),y.uc(" ",y.cc(6,5,t.apod.date)," "),y.Ab(3),y.fc("src",t.apod.url)("title",t._buildImageTitle(t.apod)),y.Ab(2),y.tc(t.apod.explanation)}}let S=(()=>{class t{_buildImageTitle(t){return t.title&&t.copyright?`${t.title}, copyright by ${t.copyright}`:t.title?t.title:t.copyright?t.copyright:"Astronomic Picture of "+t.date}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y.Eb({type:t,selectors:[["app-apod-card"]],inputs:{apod:"apod"},decls:1,vars:1,consts:[[4,"ngIf"],["id","content"],["id","picture",3,"src","title"]],template:function(t,e){1&t&&y.rc(0,D,11,7,"mat-card",0),2&t&&y.fc("ngIf",e.apod)},directives:[_.l,C.a,C.c,C.f,C.e,C.b,Y.a],pipes:[_.e],styles:["app-apod-card #content{display:flex;flex-direction:column;gap:1rem}app-apod-card #content #picture img{max-height:75vh;object-fit:contain}"],encapsulation:2,changeDetection:0}),t})();var K=a("bTqV"),X=a("NFeN");function N(t,e){1&t&&y.Lb(0,"mat-spinner",11)}function F(t,e){if(1&t&&(y.Lb(0,"app-apod-card",12),y.bc(1,"async")),2&t){const t=y.ac();y.fc("apod",y.cc(1,1,t.apod$))}}function M(t,e){if(1&t){const t=y.Qb();y.Pb(0,"button",13),y.Xb("click",function(){y.jc(t);const a=e.ngIf;return y.ac().next(a)}),y.Pb(1,"mat-icon",14),y.sc(2,"navigate_before"),y.Ob(),y.Ob()}2&t&&(y.Ab(1),y.fc("inline",!0))}function T(t,e){if(1&t){const t=y.Qb();y.Pb(0,"button",13),y.Xb("click",function(){y.jc(t);const a=e.ngIf;return y.ac().next(a)}),y.Pb(1,"mat-icon",14),y.sc(2,"navigate_next"),y.Ob(),y.Ob()}2&t&&(y.Ab(1),y.fc("inline",!0))}const q={parse:{dateInput:"LL"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},E=[{path:"",component:(()=>{class t{constructor(t,e,a,n,o,c){this.route=t,this.router=e,this.store=a,this.errorService=n,this.layout=o,this.logger=c,this.readonlyTextInput=!0}get apod$(){return this._apod$.asObservable()}get dateControl(){return this._dateControl}get small$(){return this._small$}get loading$(){return this._loading$.asObservable()}get backward$(){return this._backward$.asObservable().pipe(Object(h.a)(t=>null!=t))}get forward$(){return this._forward$.asObservable().pipe(Object(h.a)(t=>null!=t))}ngOnInit(){this._apod$=new l.a(null),this._forward$=new l.a(null),this._backward$=new l.a(null),this._loading$=new l.a(!1),this._small$=this.layout.observe([c.b.XSmall,c.b.XSmall]).pipe(Object(m.a)(t=>t.matches)),this._dateControl=new r.c(null,[r.l.required]),this._dateControl.valueChanges.pipe(Object(h.a)(t=>this._dateControl.valid),Object(m.a)(t=>new Date(t)),Object(g.a)(t=>{var e;return null===(e=this.logger)||void 0===e?void 0:e.trace("Date formcontrol value: "+Object(b.a)(t))})).subscribe({next:t=>this.next(t)}),this.route.queryParams.pipe(Object(g.a)(t=>this._apod$.next(null)),Object(g.a)(t=>this._loading$.next(!0)),function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return a=>Object(m.a)(function(t,e){return a=>{let n=a;for(let o=0;o<e;o++){const e=null!=n?n[t[o]]:void 0;if(void 0===e)return;n=e}return n}}(t,e))(a)}(p),Object(g.a)(t=>{var e;return null===(e=this.logger)||void 0===e?void 0:e.trace("date route param: "+t)}),Object(m.a)(t=>new Date(t)),Object(w.a)(t=>{return isNaN(t.getTime())?Object(d.a)(this.next(new Date)).pipe((e=u.a,Object(w.a)(()=>e))):Object(f.a)(t);var e}),Object(g.a)(t=>this._dateControl.setValue(t,{emitEvent:!1})),Object(g.a)(t=>{this._forward$.next(new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)),this._backward$.next(new Date(t.getFullYear(),t.getMonth(),t.getDate()-1))}),Object(w.a)(t=>this.store.dispatchApod(t).pipe(Object(g.a)(t=>this._loading$.next(!1)),Object(O.a)(t=>(this._loading$.next(!1),this.errorService.showErrorInDialog(t).pipe(Object(v.a)(null))))))).subscribe({next:t=>this._apod$.next(t)})}next(t){return e=this,void 0,n=function*(){return this.router.navigate([],{queryParams:{[p]:Object(b.a)(t)}})},new((a=void 0)||(a=Promise))(function(t,o){function c(t){try{i(n.next(t))}catch(e){o(e)}}function r(t){try{i(n.throw(t))}catch(e){o(e)}}function i(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a(function(t){t(n)})).then(c,r)}i((n=n.apply(e,[])).next())});var e,a,n}}return t.\u0275fac=function(e){return new(e||t)(y.Kb(o.a),y.Kb(o.b),y.Kb(x.c),y.Kb(j.a),y.Kb(c.a),y.Kb(s.b,8))},t.\u0275cmp=y.Eb({type:t,selectors:[["app-apod"]],features:[y.zb([{provide:i.c,useValue:q}])],decls:16,vars:15,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"content"],[1,"apod-container",3,"ngSwitch"],["class","center-abs-xy",4,"ngSwitchCase"],[3,"apod",4,"ngSwitchCase"],["fxLayoutAlign","center center","fxLayoutGap","1rem","color","accent"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","1 1 140px"],["autocomplete","off","matInput","",3,"readonly","matDatepicker","formControl"],["matSuffix","",3,"for"],["color","accent"],["picker",""],[1,"center-abs-xy"],[3,"apod"],["mat-icon-button","",3,"click"],[3,"inline"]],template:function(t,e){if(1&t&&(y.Pb(0,"section",0),y.Pb(1,"div",1),y.bc(2,"async"),y.rc(3,N,1,0,"mat-spinner",2),y.rc(4,F,2,3,"app-apod-card",3),y.Ob(),y.Ob(),y.Pb(5,"footer"),y.Pb(6,"mat-toolbar",4),y.rc(7,M,3,1,"button",5),y.bc(8,"async"),y.Pb(9,"mat-form-field",6),y.Lb(10,"input",7),y.Lb(11,"mat-datepicker-toggle",8),y.Lb(12,"mat-datepicker",9,10),y.Ob(),y.rc(14,T,3,1,"button",5),y.bc(15,"async"),y.Ob(),y.Ob()),2&t){const t=y.hc(13);y.Ab(1),y.fc("ngSwitch",y.cc(2,9,e.loading$)),y.Ab(2),y.fc("ngSwitchCase",!0),y.Ab(1),y.fc("ngSwitchCase",!1),y.Ab(3),y.fc("ngIf",y.cc(8,11,e.backward$)),y.Ab(3),y.fc("readonly",e.readonlyTextInput)("matDatepicker",t)("formControl",e.dateControl),y.Ab(1),y.fc("for",t),y.Ab(3),y.fc("ngIf",y.cc(15,13,e.forward$))}},directives:[$.c,$.b,_.n,_.o,L.a,$.d,_.l,P.b,$.a,A.b,I.b,r.b,r.i,r.d,I.d,P.e,I.a,k.b,S,K.b,X.a],pipes:[_.b],styles:["app-apod .mat-icon-button,app-apod .mat-icon-button .mat-icon{width:50px;height:50px;line-height:50px}app-apod .mat-icon-button .mat-icon{font-size:50px}app-apod .apod-container{max-width:600px}app-apod footer{position:sticky;bottom:0;z-index:1;width:100%;overflow:hidden}app-apod .content{min-height:100%;padding:1rem}"],encapsulation:2}),t})()}];let z=(()=>{class t{}return t.\u0275mod=y.Ib({type:t}),t.\u0275inj=y.Hb({factory:function(e){return new(e||t)},imports:[[o.d.forChild(E)],o.d]}),t})(),G=(()=>{class t{}return t.\u0275mod=y.Ib({type:t}),t.\u0275inj=y.Hb({factory:function(e){return new(e||t)},imports:[[n.a,z]]}),t})()}}]);