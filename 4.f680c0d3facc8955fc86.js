(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jTNt:function(t,e,n){"use strict";n.r(e),n.d(e,"ApodModule",function(){return H});var a=n("PCNd"),o=n("tyNb"),c=n("0MNC"),i=n("3Pt+"),r=n("FKr1"),s=n("rW8v"),b=n("pM24");const d="date";var l=n("2Vo4"),p=n("Cfvw"),g=n("EY2u"),u=n("LRne"),h=n("pLZG"),f=n("lJxs"),m=n("vkgz"),x=n("eIep"),O=n("JIr8"),w=n("CqXF"),_=n("fXoL");const C=new _.r("Min date of apod"),P=new _.r("Min date of apod");var v=n("dJ3e"),M=n("1ua0"),y=n("XiUz"),D=n("ofXK"),j=n("/t3+"),I=n("kmnG"),L=n("qFsG"),$=n("iadO"),k=n("Xa2L"),Y=n("Wp6s"),B=n("GYBK"),S=n("1HaN"),Q=n("KLmx");function N(t,e){if(1&t&&_.Mb(0,"app-image",5),2&t){const t=_.bc(2);_.gc("src",t.apod.url)("title",t.apod.imageTitle)}}function T(t,e){if(1&t&&_.Mb(0,"app-youtube-player",6),2&t){const t=_.bc(2);_.gc("videoId",t.apod.youtubeVideoId)}}function F(t,e){if(1&t&&(_.Qb(0,"mat-card"),_.Qb(1,"mat-card-header"),_.Qb(2,"mat-card-title"),_.sc(3),_.Pb(),_.Qb(4,"mat-card-subtitle"),_.sc(5),_.cc(6,"date"),_.Pb(),_.Pb(),_.Qb(7,"mat-card-content",1),_.Ob(8,2),_.rc(9,N,1,2,"app-image",3),_.rc(10,T,1,1,"app-youtube-player",4),_.Nb(),_.Qb(11,"p"),_.sc(12),_.Pb(),_.Pb(),_.Pb()),2&t){const t=_.bc();_.Bb(3),_.uc(" ",t.apod.title," "),_.Bb(2),_.uc(" ",_.dc(6,6,t.apod.date)," "),_.Bb(3),_.gc("ngSwitch",t.apod.media_type),_.Bb(1),_.gc("ngSwitchCase","image"),_.Bb(1),_.gc("ngSwitchCase","video"),_.Bb(2),_.tc(t.apod.explanation)}}let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=_.Fb({type:t,selectors:[["app-apod-card"]],inputs:{apod:"apod"},decls:1,vars:1,consts:[[4,"ngIf"],["id","content"],[3,"ngSwitch"],["id","picture","appImageLightbox","",3,"src","title",4,"ngSwitchCase"],[3,"videoId",4,"ngSwitchCase"],["id","picture","appImageLightbox","",3,"src","title"],[3,"videoId"]],template:function(t,e){1&t&&_.rc(0,F,13,8,"mat-card",0),2&t&&_.gc("ngIf",e.apod)},directives:[D.l,Y.a,Y.c,Y.f,Y.e,Y.b,D.n,D.o,B.a,S.a,Q.a],pipes:[D.e],styles:["app-apod-card #content{display:flex;flex-direction:column;gap:1rem}app-apod-card #content #picture img{max-height:50vh;object-fit:contain}"],encapsulation:2,changeDetection:0}),t})();var A=n("bTqV"),J=n("NFeN");function V(t,e){1&t&&_.Mb(0,"mat-spinner",15)}function X(t,e){if(1&t&&(_.Mb(0,"app-apod-card",16),_.cc(1,"async")),2&t){const t=_.bc();_.gc("apod",_.dc(1,1,t.apod$))}}function G(t,e){if(1&t){const t=_.Rb();_.Qb(0,"button",17),_.Yb("click",function(){_.kc(t);const n=e.ngIf;return _.bc().next(n)}),_.Qb(1,"mat-icon",18),_.sc(2,"navigate_before"),_.Pb(),_.Pb()}if(2&t){const t=e.ngIf,n=_.bc();_.gc("disabled",t.getTime()<=n.minDate.getTime()),_.Bb(1),_.gc("inline",!0)}}function z(t,e){if(1&t){const t=_.Rb();_.Qb(0,"button",19),_.Yb("click",function(){_.kc(t);const e=_.bc();return e.next(e._randomDateBetween(e.minDate,e.maxDate))}),_.Qb(1,"mat-icon",18),_.sc(2,"shuffle"),_.Pb(),_.Pb()}2&t&&(_.Bb(1),_.gc("inline",!0))}function E(t,e){if(1&t){const t=_.Rb();_.Qb(0,"button",17),_.Yb("click",function(){_.kc(t);const n=e.ngIf;return _.bc().next(n)}),_.Qb(1,"mat-icon",20),_.sc(2,"navigate_next"),_.Pb(),_.Pb()}if(2&t){const t=e.ngIf,n=_.bc();_.gc("disabled",t.getTime()>=n.maxDate.getTime()),_.Bb(1),_.gc("inline",!0)}}const K={parse:{dateInput:"LL"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"YYYY"}},R=[{path:"",component:(()=>{class t{constructor(t,e,n,a,o,c,i,r){this.route=t,this.router=e,this.store=n,this.errorService=a,this.layout=o,this.logger=c,this.minDate=i,this.maxDate=r,this.readonlyTextInput=!0,this._randomDateBetween=b.b}get apod$(){return this._apod$.asObservable()}get dateControl(){return this._dateControl}get small$(){return this._small$}get loading$(){return this._loading$.asObservable()}get backward$(){return this._backward$.asObservable().pipe(Object(h.a)(t=>null!=t))}get forward$(){return this._forward$.asObservable().pipe(Object(h.a)(t=>null!=t))}ngOnInit(){this._apod$=new l.a(null),this._forward$=new l.a(null),this._backward$=new l.a(null),this._loading$=new l.a(!1),this._small$=this.layout.observe([c.b.XSmall,c.b.XSmall]).pipe(Object(f.a)(t=>t.matches)),this._dateControl=new i.c(null,[i.l.required]),this._dateControl.valueChanges.pipe(Object(h.a)(t=>this._dateControl.valid),Object(f.a)(t=>new Date(t)),Object(m.a)(t=>{var e;return null===(e=this.logger)||void 0===e?void 0:e.trace("Date formcontrol value: "+Object(b.a)(t))})).subscribe({next:t=>this.next(t)}),this.route.queryParams.pipe(Object(m.a)(t=>this._apod$.next(null)),Object(m.a)(t=>this._loading$.next(!0)),function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(f.a)(function(t,e){return n=>{let a=n;for(let o=0;o<e;o++){const e=null!=a?a[t[o]]:void 0;if(void 0===e)return;a=e}return a}}(t,e))(n)}(d),Object(m.a)(t=>{var e;return null===(e=this.logger)||void 0===e?void 0:e.trace("date route param: "+t)}),Object(f.a)(t=>new Date(t)),Object(x.a)(t=>{return isNaN(t.getTime())?Object(p.a)(this.next(new Date)).pipe((e=g.a,Object(x.a)(()=>e))):Object(u.a)(t);var e}),Object(m.a)(t=>this._dateControl.setValue(t,{emitEvent:!1})),Object(m.a)(t=>{this._forward$.next(new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)),this._backward$.next(new Date(t.getFullYear(),t.getMonth(),t.getDate()-1))}),Object(x.a)(t=>this.store.dispatchApod(t).pipe(Object(m.a)(t=>this._loading$.next(!1)),Object(O.a)(e=>{let n;switch(this._loading$.next(!1),e.status){case 400:n={message:`No image for ${t.toLocaleDateString()} ${String.fromCodePoint(128546)}`,name:e.statusText};break;case 429:n={message:"This site requests data from Nasa, which is rate limited "+String.fromCodePoint(128546),name:e.statusText}}return this.errorService.showErrorInDialog(n).pipe(Object(m.a)(t=>this.next(new Date)),Object(w.a)(null))})))).subscribe({next:t=>this._apod$.next(t)})}next(t){return e=this,void 0,a=function*(){return this.router.navigate([],{queryParams:{[d]:Object(b.a)(t)}})},new((n=void 0)||(n=Promise))(function(t,o){function c(t){try{r(a.next(t))}catch(e){o(e)}}function i(t){try{r(a.throw(t))}catch(e){o(e)}}function r(e){var a;e.done?t(e.value):(a=e.value,a instanceof n?a:new n(function(t){t(a)})).then(c,i)}r((a=a.apply(e,[])).next())});var e,n,a}}return t.\u0275fac=function(e){return new(e||t)(_.Lb(o.a),_.Lb(o.b),_.Lb(v.c),_.Lb(M.a),_.Lb(c.a),_.Lb(s.d,8),_.Lb(C,8),_.Lb(P,8))},t.\u0275cmp=_.Fb({type:t,selectors:[["app-apod"]],features:[_.Ab([{provide:r.c,useValue:K},{provide:C,useValue:new Date(1995,5,16)},{provide:P,useValue:new Date}])],decls:19,vars:18,consts:[["fxLayout","column",1,"page"],["fxFlex","1 1 auto","fxLayout","column","fxLayoutAlign","start center",1,"content-container"],[1,"content"],[3,"ngSwitch"],["color","accent","class","center-abs-xy",4,"ngSwitchCase"],["class","apod-card",3,"apod",4,"ngSwitchCase"],["fxFlex","0 0 auto"],["fxLayoutAlign","center center","fxLayoutGap","1rem","color","accent"],["class","nav-button","mat-icon-button","",3,"disabled","click",4,"ngIf"],["fxFlex","1 1 140px"],["autocomplete","off","matInput","",3,"readonly","matDatepicker","formControl","min","max"],["matSuffix","",3,"for"],["color","accent"],["picker",""],["class","random-date-button","mat-icon-button","",3,"click",4,"ngIf"],["color","accent",1,"center-abs-xy"],[1,"apod-card",3,"apod"],["mat-icon-button","",1,"nav-button",3,"disabled","click"],[3,"inline"],["mat-icon-button","",1,"random-date-button",3,"click"],[1,"nav-icon",3,"inline"]],template:function(t,e){if(1&t&&(_.Qb(0,"section",0),_.Qb(1,"div",1),_.Qb(2,"section",2),_.Ob(3,3),_.cc(4,"async"),_.rc(5,V,1,0,"mat-spinner",4),_.rc(6,X,2,3,"app-apod-card",5),_.Nb(),_.Pb(),_.Pb(),_.Qb(7,"footer",6),_.Qb(8,"mat-toolbar",7),_.rc(9,G,3,2,"button",8),_.cc(10,"async"),_.Qb(11,"mat-form-field",9),_.Mb(12,"input",10),_.Mb(13,"mat-datepicker-toggle",11),_.Mb(14,"mat-datepicker",12,13),_.Pb(),_.rc(16,z,3,1,"button",14),_.rc(17,E,3,2,"button",8),_.cc(18,"async"),_.Pb(),_.Pb(),_.Pb()),2&t){const t=_.ic(15);_.Bb(3),_.gc("ngSwitch",_.dc(4,12,e.loading$)),_.Bb(2),_.gc("ngSwitchCase",!0),_.Bb(1),_.gc("ngSwitchCase",!1),_.Bb(3),_.gc("ngIf",_.dc(10,14,e.backward$)),_.Bb(3),_.gc("readonly",e.readonlyTextInput)("matDatepicker",t)("formControl",e.dateControl)("min",e.minDate)("max",e.maxDate),_.Bb(1),_.gc("for",t),_.Bb(3),_.gc("ngIf",e.minDate&&e.maxDate),_.Bb(1),_.gc("ngIf",_.dc(18,16,e.forward$))}},directives:[y.c,y.a,y.b,D.n,D.o,j.a,y.d,D.l,I.b,L.b,$.b,i.b,i.i,i.d,$.d,I.e,$.a,k.b,q,A.b,J.a],pipes:[D.b],styles:["[_nghost-%COMP%] > .page[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > .content-container[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > .content-container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > .content-container[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .apod-card[_ngcontent-%COMP%]{display:block;max-width:960px}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{width:50px;height:50px;line-height:50px}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:50px;width:50px;height:50px;line-height:50px}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   .random-date-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}[_nghost-%COMP%] > .page[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]   .random-date-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:30px;width:30px;height:30px;line-height:30px}"]}),t})()}];let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.Jb({type:t}),t.\u0275inj=_.Ib({imports:[[o.d.forChild(R)],o.d]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.Jb({type:t}),t.\u0275inj=_.Ib({imports:[[a.a,W]]}),t})()}}]);